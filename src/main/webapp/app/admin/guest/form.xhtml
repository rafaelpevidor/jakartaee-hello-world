<ui:composition xmlns:faces="jakarta.faces"
                xmlns:ui="jakarta.faces.facelets"
                xmlns:f="jakarta.faces.core"
                xmlns:h="jakarta.faces.html"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/layout/template.xhtml">
    <ui:define name="pageMetadata">
        <f:metadata>
            <f:viewParam name="id" value="#{guestFormController.guestId}"/>
            <f:viewAction action="#{guestFormController.init()}"/>
        </f:metadata>
    </ui:define>
    <ui:define name="pageTitle">
        <ui:fragment rendered="#{empty guestFormController.guestId}">Guest <small>Add</small></ui:fragment>
        <ui:fragment rendered="#{not empty guestFormController.guestId}">Guest <small>Edit</small></ui:fragment>
    </ui:define>
    <ui:define name="content">
        <form class="needs-validation" novalidate="novalidate" faces:id="guestEditForm" role="form">
            <div class="row g-3">
                <div class="col-3">
                    <label faces:for="guestTitleName" class="form-label">Title</label>
                    <input type="text" class="form-control #{not empty facesContext.getMessageList('form:guestTitleName')?'is-invalid':''}" placeholder="Mr./Ms."
                           faces:id="guestTitleName" faces:value="#{guestFormController.guest.titleName}" faces:required="required" faces:requiredMessage="Title is required."/>
                    <small class="invalid-feedback">
                        <h:message for="guestTitleName" showDetail="false" showSummary="true"/>
                    </small>
                </div>

                <div class="col-sm-3">
                    <label faces:for="guestFirstName" class="form-label">First name</label>
                    <input type="text" class="form-control" placeholder="Insert name" faces:id="guestFirstName" faces:value="#{guestFormController.guest.firstName}" faces:required="required" faces:requiredMessage="Please provide the first name."/>
                    <div class="invalid-feedback">
                        <h:message for="guestTitleName" showDetail="false" showSummary="true"/>
                    </div>
                </div>

                <div class="col-sm-3">
                    <label faces:for="guestLastName" class="form-label">Last name</label>
                    <input type="text" class="form-control" placeholder="Insert last name" faces:id="guestLastName" faces:value="#{guestFormController.guest.lastName}" faces:required="required" faces:requiredMessage="Please provide the last name."/>
                    <div class="invalid-feedback">
                        <h:message for="guestTitleName" showDetail="false" showSummary="true"/>
                    </div>
                </div>

                <div class="col-3">
                    <label faces:for="guestEmail" class="form-label">Email</label>
                    <input type="email" class="form-control" placeholder="you@example.com" faces:id="guestEmail" faces:value="#{guestFormController.guest.email}" faces:required="required" faces:requiredMessage="Please enter a valid email address."/>
                    <div class="invalid-feedback">
                        <h:message for="guestTitleName" showDetail="false" showSummary="true"/>
                    </div>
                </div>

                <hr class="my-4"/>

                <button class="w-100 btn btn-primary btn-lg" type="submit" faces:id="guestFormSaveBtn" faces:action="#{guestFormController.save}">Save</button>
            </div>
        </form>
    </ui:define>
</ui:composition>